<table cellpadding="0" cellspacing="0" border="0" class="display" id="table-jqgrid" width="100%">

</table>



<script>
jQuery("#table-jqgrid").jqGrid({
	datatype: "local",
 	height: 250,
	width: 900,
        rowNum:3,
        rowList:[2,4,8],
        sortname: 'cost',
        viewrecords: true,
        sortorder: "desc",
        loadonce: true,
        caption: "Stocks Details",
	colNames:['Name','Cost', 'Purchase Date', 'Purchase Quantity','Purchase Cost'],
	colModel:[
		{name:'name',index:'name', width:100},
		{name:'cost',index:'cost', width:70, sorttype:"float"},
		{name:'pdate',index:'pdate', width:100, sorttype:"date"},
		{name:'pqty',index:'pqty', width:80, align:"right",sorttype:"int"},
		{name:'pcost',index:'pcost', width:80, align:"right",sorttype:"float"}
		],
	toppager: true,
	rowList: [5,10],
	multiselect: false,
	altRows: true,
	caption: "Stocks" });

var mydata = [
  <% @stocks.each do |stock| %>
    {
	name: "<%= stock.name %>",
	cost: "<%= stock.cost %>",
	pdate: "<%=stock.purchase_date %>",
	pqty:"<%= stock.purchase_quantity %>",
	pcost:"<%= (stock.purchase_quantity * stock.cost)  %>"
    },
	<% end %>
	    ];

for(var i=0;i<=mydata.length;i++) jQuery("#table-jqgrid").jqGrid('addRowData',i+1,mydata[i]);

</script>
